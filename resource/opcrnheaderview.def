product ZAB ERP

table opcrnheaderview
  caption "AR Report View"
  columns zid,xcrnnum,xdate,xcus,xstatuscrn,xref,xwh,xdesc,xstatusar,xtotamt,~
          xdisc,xdiscf,xait,xamount,xsp,xtotvat,xaitamt,xdiscamt,xfm,xsm,xrsm,xordernum


  primary key zid,xvoucher

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view opcrnheaderview(zid,xcrnnum,xdate,xcus,xstatuscrn,xref,xwh,xdesc,xstatusar,xtotamt,~
                                 xdisc,xdiscf,xait,xamount,xsp,xtotvat,xaitamt,xdiscamt,xfm,xsm,xrsm,xordernum,xtype) ~
                                 as select a.zid,a.xcrnnum,a.xdate,a.xcus,a.xstatuscrn,a.xref,a.xwh,b.xlong,~
                                 a.xstatusar,a.xtotamt,~
                                 a.xdisc,a.xdiscf,a.xait,a.xamount,a.xsp,a.xvatamt,a.xaitamt,a.xdiscamt,a.xfm,a.xsm,a.xrsm,a.xordernum,a.xtype ~
                                 from opcrnheader a join xcodes b on a.zid=b.zid and a.xwh=b.xcode and b.xtype='Branch' ~
				 where a.xcrnnum in(select xcrnnum from opcrndetail)
				 
				


end table
