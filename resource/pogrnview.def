
table pogrnview
  caption "POGRN View"
  columns zid,xgrnnum,xvoucher,xsup,xdate,xrow,xitem,xqtygrn,xunitpur,xrate,xlong,xlineamt,xpornum,xstatusgrn,xwh

  primary key zid,xgrnnum

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view pogrnview (zid,xgrnnum,xvoucher,xsup,xdate,xrow,xitem,xqtygrn,xunitpur,xrate,xlong,xlineamt,xpornum,xstatusgrn,xwh) ~
                  as select a.zid,a.xgrnnum,b.xvoucher,b.xsup,b.xdate,a.xrow,a.xitem,~
                  a.xqtygrn,a.xunitpur,a.xrate,a.xlong,a.xlineamt,a.xpornum,b.xstatusgrn,b.xwh ~
                  from pogrndetail a left join pogrnheader b on a.zid=b.zid and a.xgrnnum=b.xgrnnum //where b.xstatusgrn='Confirmed'
end table