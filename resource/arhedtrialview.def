product ZAB ERP

table arhedtrialview
  caption "ARHED View"
  columns zid,xvoucher,xgcus,xdate,xprime,xtrn,xcus,xorg,xacc,xsign,xbank

  primary key zid,xvoucher

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view arhedtrialview (zid,xvoucher,xgcus,xdate,xprime,xtrn,xcus,xorg,xacc,xsign,xbank) ~
                  as select a.zid,a.xvoucher,b.xgcus,a.xdate,a.xprime,left(a.xvoucher,4),a.xcus,~
                  b.xorg,(select xacc from xcodes where xcodes.zid=a.zid and xcodes.xtype='Customer Group' and xcodes.xcode=b.xgcus),~
                  a.xsign,isnull(xbank,'') ~
                  from arhed a join cacus b on a.zid=b.zid and a.xcus=b.xcus ~
                  where a.xstatusjv='Open'


end table
