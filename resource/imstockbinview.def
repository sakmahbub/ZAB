product ZAB ERP

table imstockbinview
  caption "Item Warehouse Bin View"
  columns zid,xwh,xbinref,xitem,xdesc,zactive,xgitem,xavail
  primary key zid,xitem,xwh

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view imstockbinview (zid,xwh,xbinref,xitem,xdesc,zactive,xgitem,xavail) ~
            as Select a.zid,a.xwh,isnull(a.xbinref,''),a.xitem,c.xdesc,c.zactive,c.xgitem,sum(a.xqty*a.xsign) ~			
			from imtrn a join caitem c on a.zid =c.zid and a.xitem = c.xitem ~
			group by a.zid,a.xwh,isnull(a.xbinref,''),a.xitem,c.xdesc,c.zactive,c.xgitem ~
			having sum(a.xqty*a.xsign)>0
          
		
  end table
