product ZAB ERP

table poadvrecview
  caption "PR JN Advance receive view"
  columns zid,xporeqnum,xstatusreq,xstatusap,xvoucher,xdate,xtwh,xdesc,xsuperiorsp,xpreparer,xstatusrec,xsignatory1,xdaterec

  primary key zid,xporeqnum

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view poadvrecview (zid,xporeqnum,xstatusreq,xstatusap,xvoucher,xdate,xtwh,xdesc,xsuperiorsp,xpreparer,xstatusrec,xsignatory1,xdaterec) ~
                  as select a.zid,a.xporeqnum,a.xstatusreq,a.xstatusap,a.xvoucher,a.xdate,a.xtwh,b.xlong,c.xposition,a.xpreparer,a.xstatusrec,a.xsignatory1,a.xdaterec ~
					from poreqheader a JOIN branchview b on a.zid=b.zid and a.xtwh=b.xcode join pdmst c on a.zid=c.zid and a.xpreparer=c.xstaff ~
					WHERE a.xtype='Cash' and left(a.xporeqnum,4) in ('PR--','JN--')

end table
