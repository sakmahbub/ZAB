product ZAB ERP

table imtransactionview
  caption "AR Report View"
  columns zid,ximtrnnum, xitem,xwh,xdesc,xdate,~
          xqty,xval,xvalpost,xdocnum,xdocrow,xnote,~
          xsign,xunit,xrate,xref,xstatusjv

  primary key zid,xvoucher

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view imtransactionview(zid,ximtrnnum, xitem,xwh,xdesc,xdate,xqty,xval,xvalpost,xdocnum,xdocrow,xnote,~
                                    xsign,xunit,xrate,xref,xstatusjv) ~
                                    as select a.zid,a.ximtrnnum, a.xitem,a.xwh,~
                                    (select xlong from xcodes where xtype='Branch' and zid=a.zid and xcode=a.xwh),~
                                    a.xdate,a.xqty,a.xval,a.xvalpost,a.xdocnum,a.xdocrow,a.xnote,~
                                    a.xsign,a.xunit,a.xrate,a.xref,a.xstatusjv ~
                                    from imtrn a join xcodes b on a.zid=b.zid and a.xwh=b.xcode and b.xtype='Branch'


end table
