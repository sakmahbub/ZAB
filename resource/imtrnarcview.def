product ZAB ERP

table imtrnarcview
  caption "OP DO CRN View"

columns ztime,zutime,zauserid,zuuserid,zid,ximtrnnum,xitem,xwh,xdate,xqty,xval,xvalpost,xdocnum,xdocrow,xnote,xsign,~
	xunit,xrate,xref,xstatusjv,xvoucher,xvatrate,xvatamt,xcostrow,xtp,xcostcode,xqtystk,xdoctype,xbatch,xdateexp,xissueto

  primary key zid,ximtrnnum

  foreign key
        zid references zbusiness.zid
  end foreign key


  sql create view imtrnarcview(ztime,zutime,zauserid,zuuserid,zid,ximtrnnum,xitem,xwh,xdate,xqty,xval,xvalpost,xdocnum,xdocrow,xnote,xsign,~
	xunit,xrate,xref,xstatusjv,xvoucher,xvatrate,xvatamt,xcostrow,xtp,xcostcode,xqtystk,xdoctype,xbatch,xdateexp,xissueto) ~
	as select ztime,zutime,zauserid,zuuserid,zid,ximtrnnum,xitem,xwh,xdate,xqty,xval,xvalpost,xdocnum,xdocrow,xnote,xsign,~
   xunit,xrate,xref,xstatusjv,xvoucher,xvatrate,xvatamt,xcostrow,xtp,xcostcode,xqtystk,xdoctype,xbatch,xdateexp,xissueto from imtrn where LEFT(ximtrnnum,2)<>'OB' ~
union all ~
	select ztime,zutime,zauserid,zuuserid,zid,ximtrnnum,xitem,xwh,xdate,xqty,xval,xvalpost,xdocnum,xdocrow,xnote,xsign,~
   xunit,xrate,xref,xstatusjv,xvoucher,xvatrate,xvatamt,xcostrow,xtp,xcostcode,xqtystk,xdoctype,xbatch,xdateexp,xissueto from imtrnarc where LEFT(ximtrnnum,2)<>'OB'

end table
