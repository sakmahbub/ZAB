
product ZAB ERP

table pdotdetailview
  caption "OT Detail View"
  columns zid,xdate,xstaff,xname,xothours,xrow,xtype,xstatus,xyear,xper,xdatecom,~
          xstarttime,xenddate,xendtime,xapphour,xusehour,xtrntype,~
          xrem

  primary key zid,xdate,xstaff

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view pdotdetailview (zid,xdate,xstaff,xname,xothours,xrow,xtype,xstatus,xyear,xper,xdatecom,~
                                  xstarttime,xenddate,xendtime,xapphour,xusehour,xrem,xtrntype)~
                  as select a.zid,a.xdate,a.xstaff,(select xname from pdmst where zid=a.zid and xstaff=a.xstaff),~
                  a.xothours,a.xrow,a.xtype,a.xstatus,year(a.xdate),month(a.xdate),a.xdatecom, ~
                  b.xstarttime,b.xenddate,b.xendtime,b.xapphour,b.xothours,b.xrem,b.xtype ~
                  from pdotdetail a join pdotheader b on a.zid=b.zid and a.xyearperdate=b.xyearperdate and a.xstaff=b.xstaff
end table
