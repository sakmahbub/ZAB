
product ZAB ERP

table pdleavempview
  caption "Leave View"
  columns zid,xyear,xstaff,xtypeleave,xday

  primary key zid,xyear,xstaff,xtypeleave

  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view pdleavempview (zid,xyear,xyearperdate,xposition,xstaff,xdatefrom,xdateto,xtypeleave,xday,xstatus,xdate,xdayname) ~
                  as select a.zid,a.xyear,a.xyearperdate,a.xposition,a.xstaff,a.xdatefrom,a.xdateto,a.xtypeleave, ~
				  a.xday,a.xstatus,b.xdate,b.xdayname ~ 
                  from pdleaveheader a join pdleavedetail b on a.zid=b.zid and a.xyearperdate=b.xyearperdate
end table
