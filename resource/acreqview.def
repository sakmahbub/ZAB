


product ZAB ERP

table acreqview
  caption "Accounts View"
  columns zid,xacreqnum,xdate,xstatusreq,xwh,xpreparer,xsuperiorsp,xprime,xfwh,xlong,xamount
  primary zid,xacreqnum,xdate,xstatusreq,xwh,xpreparer,xsuperiorsp,xprime,xfwh,xlong,xamount
  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view acreqview (zid,xacreqnum,xdate,xstatusreq,xwh,xpreparer,xsuperiorsp,xprime,xfwh,xlong,xamount)~
                  as select a.zid,a.xacreqnum,a.xdate,a.xstatusreq,a.xwh,a.xpreparer,a.xsuperiorsp,a.xprime,c.xcode,c.xlong,SUM(ISNULL(b.xprime,0)) ~
					from acreqheader a join acreqdetail b  on a.zid=b.zid and a.xacreqnum=b.xacreqnum ~
					join branchview c  on a.zid=c.zid and a.xfwh=c.xcode ~
					GROUP BY a.zid,a.xacreqnum,a.xdate,a.xstatusreq,a.xwh,a.xpreparer,a.xsuperiorsp,a.xprime,c.xcode,c.xlong
end table
