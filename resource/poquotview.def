


product ZAB ERP

table poquotview
  caption "Quotation View"
  columns zid,xstaff,xposition,xstatustor,xstatusreq,xwh,xdate
  primary key zid,xstaff,xposition,xstatustor,xstatusreq,xwh,xdate
  foreign key
        zid references zbusiness.zid
  end foreign key

  sql create view poquotview (zid,xporeqnum,xrow,xitem,xdesc,xserial,xqty,xunitpur,xqt1,xsup1,xrate1,xspec1,vat1,disc1,note1,xcur1, ~
								xqt2,xsup2,xrate2,xspec2,vat2,disc2,note2,xcur2,xqt3,xsup3,xrate3,xspec3,vat3,disc3,note3,xcur3, ~
								xqy4,xsup4,xrate4,xspec4,vat4,disc4,note4,xcur4,xqt5,xsup5,xrate5,xspec5,vat5,disc5,note5,xcur5) ~
as select a.zid,a.xporeqnum,a.xrow,a.xitem,b.xdesc,b.xtheircode,a.xqtyreq,a.xunitpur, ~  
'QT-01',(select g.xorg from cacus g join poquotheader i ~
on g.zid=i.zid and g.xcus=i.xcus Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-01'), ~    
(select f.xrate from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-01'), ~  
(select f.xspec from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-01'), ~ 
(select i.xvatrate from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-01'), ~
(select i.xdiscf from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-01'), ~
(select i.xnote from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-01'), ~
(select i.xcur from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-01'), ~
'QT-02',(select g.xorg from cacus g join poquotheader i ~
on g.zid=i.zid and g.xcus=i.xcus Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-02'), ~  
(select f.xrate from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-02'), ~  
(select f.xspec from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-02'), ~
(select i.xvatrate from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-02'), ~
(select i.xdiscf from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-02'), ~
(select i.xnote from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-02'), ~
(select i.xcur from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-02'), ~
'QT-03',(select g.xorg from cacus g join poquotheader i ~
on g.zid=i.zid and g.xcus=i.xcus Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-03'), ~  
(select f.xrate from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-03'), ~  
(select f.xspec from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-03'), ~
(select i.xvatrate from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-03'), ~
(select i.xdiscf from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-03'), ~
(select i.xnote from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-03'), ~
(select i.xcur from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-03'), ~
'QT-04',(select g.xorg from cacus g join poquotheader i ~
on g.zid=i.zid and g.xcus=i.xcus Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-04'), ~  
(select f.xrate from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-04'), ~   
(select f.xspec from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-04'), ~
(select i.xvatrate from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-04'), ~
(select i.xdiscf from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-04'), ~
(select i.xnote from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-04'), ~
(select i.xcur from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-04'), ~
'QT-05',(select g.xorg from cacus g join poquotheader i ~
on g.zid=i.zid and g.xcus=i.xcus Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-05'), ~  
(select f.xrate from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-05'), ~ 
(select f.xspec from poquotheader e join poquotdetail f ~
on e.zid=f.zid and e.xporeqnum=f.xporeqnum and e.xqotnum=f.xqotnum Where a.zid=e.zid and a.xitem=f.xitem and a.xrow=f.xdocrow and a.xporeqnum=e.xporeqnum and e.xqotnum='QT-05'), ~
(select i.xvatrate from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-05'), ~
(select i.xdiscf from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-05'), ~
(select i.xnote from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-05'), ~
(select i.xcur from poquotheader i Where a.zid=i.zid and a.xporeqnum=i.xporeqnum and i.xqotnum='QT-05') ~
from poreqdetail a join caitem b on a.zid=b.zid and a.xitem=b.xitem		  
end table
